<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Simple CSP Demo</title>

<!-- Simple CSP - allows self and jQuery CDN -->
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' https://code.jquery.com;
  style-src 'self';
  object-src 'none';
">

<style>
  body { 
    font: 16px system-ui, sans-serif; 
    max-width: 600px; 
    margin: 40px auto; 
    padding: 20px;
  }
  .demo-box { 
    border: 2px solid #ddd; 
    padding: 20px; 
    margin: 20px 0; 
    border-radius: 8px;
  }
  .vulnerable { border-color: #dc3545; background: #fff5f5; }
  .protected { border-color: #28a745; background: #f8fff8; }
  input { 
    padding: 8px; 
    border: 1px solid #ccc; 
    border-radius: 4px; 
    width: 200px;
  }
  button { 
    padding: 8px 16px; 
    margin-left: 10px; 
    border: none; 
    border-radius: 4px; 
    background: #007bff; 
    color: white; 
    cursor: pointer;
  }
  #result { 
    margin-top: 10px; 
    padding: 10px; 
    background: #f8f9fa; 
    border-radius: 4px;
  }
</style>
</head>
<body>

<h1>üõ°Ô∏è Simple CSP Demo</h1>

<div class="demo-box protected">
  <h3>‚úÖ This Works (External Scripts)</h3>
  <p>jQuery from CDN is allowed by CSP:</p>
  <input type="text" id="input1" placeholder="Type something...">
  <button onclick="updateResult()">Update</button>
  <div id="result">Result will appear here</div>
</div>

<div class="demo-box vulnerable">
  <h3>‚ùå This Would Be Blocked</h3>
  <p>Inline scripts are blocked by CSP (no 'unsafe-inline'):</p>
  <button onclick="alert('This would be blocked!')">Try Inline Script</button>
  <p><small>Check console for CSP violations</small></p>
</div>

<div class="demo-box">
  <h3>üìã CSP Status</h3>
  <ul>
    <li>‚úÖ External jQuery from CDN loads</li>
    <li>‚úÖ External JS file loads</li>
    <li>‚ùå Inline scripts blocked</li>
    <li>‚ùå Unauthorized external scripts blocked</li>
  </ul>
</div>

<!-- Load jQuery from CDN (allowed by CSP) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Load external JS file (allowed by CSP) -->
<script src="simple_demo.js"></script>

</body>
</html>
